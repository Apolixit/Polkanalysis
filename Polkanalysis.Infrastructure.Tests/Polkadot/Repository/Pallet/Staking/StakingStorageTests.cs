using Ajuna.NetApi;
using Ajuna.NetApi.Model.Types.Base;
using Ajuna.NetApi.Model.Types.Primitive;
using Polkanalysis.AjunaExtension;
using Polkanalysis.Domain.Contracts.Core;
using Polkanalysis.Domain.Contracts.Secondary.Pallet.Staking;
using Polkanalysis.Domain.Contracts.Secondary.Pallet.Staking.Enums;
using Polkanalysis.Polkadot.NetApiExt.Generated.Model.sp_core.crypto;

namespace Polkanalysis.Infrastructure.Tests.Polkadot.Repository.Pallet.Staking
{
    public class StakingStorageTests : PolkadotRepositoryMock
    {
        [Test]
        [TestCaseSource(nameof(U32TestCase))]
        public async Task ValidatorCount_ShouldWorkAsync(U32 expectedResult)
        {
            await MockStorageCallAsync(expectedResult, _substrateRepository.Storage.Staking.ValidatorCountAsync);
        }

        [Test]
        public async Task ValidatorCountNull_ShouldWorkAsync()
        {
            await MockStorageCallNullAsync(_substrateRepository.Storage.Staking.ValidatorCountAsync);
        }

        [Test]
        [TestCaseSource(nameof(U32TestCase))]
        public async Task MinimumValidatorCount_ShouldWorkAsync(U32 expectedResult)
        {
            await MockStorageCallAsync(expectedResult, _substrateRepository.Storage.Staking.MinimumValidatorCountAsync);
        }

        [Test]
        public async Task MinimumValidatorCountNull_ShouldWorkAsync()
        {
            await MockStorageCallNullAsync(_substrateRepository.Storage.Staking.ValidatorCountAsync);
        }

        [Test]
        public async Task Invulnerables_ShouldWorkAsync()
        {
            var accountId32 = new AccountId32();
            accountId32.Create(Utils.GetPublicKeyFrom(MockAddress2));
            var coreResult = new BaseVec<AccountId32>(new AccountId32[] {
                accountId32
            });

            var expectedResult = new BaseVec<SubstrateAccount>(new SubstrateAccount[] {
                new SubstrateAccount(MockAddress2)
            });
            await MockStorageCallAsync(coreResult, expectedResult, _substrateRepository.Storage.Staking.InvulnerablesAsync);
        }

        [Test]
        public async Task InvulnerablesNull_ShouldWorkAsync()
        {
            await MockStorageCallNullAsync<
                BaseVec<AccountId32>, BaseVec<SubstrateAccount>>(_substrateRepository.Storage.Staking.InvulnerablesAsync);
        }

        [Test]
        public async Task Bonded_ShouldWorkAsync()
        {
            var coreResult = new AccountId32();
            coreResult.Create("0x22A1F64B0AB914A002EF775FEEA90A74D9F2CDBF12A10C81E161257D7118F41F");

            var expectedResult = new SubstrateAccount("1nQjyHGZmXaCEedntaV1Cq9VvHKmUYLqo1BRm85AomYELLH");

            await MockStorageCallWithInputAsync(new SubstrateAccount(MockAddress), coreResult, expectedResult, _substrateRepository.Storage.Staking.BondedAsync);
        }

        [Test]
        public async Task BondedNull_ShouldWorkAsync()
        {
            await MockStorageCallNullWithInputAsync<
                SubstrateAccount,
                AccountId32,
                SubstrateAccount>(new SubstrateAccount(MockAddress), _substrateRepository.Storage.Staking.BondedAsync);
        }

        [Test]
        [TestCaseSource(nameof(U128TestCase))]
        public async Task MinNominatorBond_ShouldWorkAsync(U128 expectedResult)
        {
            await MockStorageCallAsync(expectedResult, _substrateRepository.Storage.Staking.MinNominatorBondAsync);
        }

        [Test]
        public async Task MinNominatorBondNull_ShouldWorkAsync()
        {
            await MockStorageCallNullAsync(_substrateRepository.Storage.Staking.MinNominatorBondAsync);
        }

        [Test]
        [TestCaseSource(nameof(U128TestCase))]
        public async Task MinValidatorBond_ShouldWorkAsync(U128 expectedResult)
        {
            await MockStorageCallAsync(expectedResult, _substrateRepository.Storage.Staking.MinValidatorBondAsync);
        }

        [Test]
        public async Task MinValidatorBondNull_ShouldWorkAsync()
        {
            await MockStorageCallNullAsync(_substrateRepository.Storage.Staking.MinValidatorBondAsync);
        }

        [Test]
        public async Task MinCommission_ShouldWorkAsync()
        {
            var coreResult = new Polkanalysis.Polkadot.NetApiExt.Generated.Model.sp_arithmetic.per_things.Perbill();
            coreResult.Create("0x00000000");

            var expectedResult = new Perbill(new U32(0));

            await MockStorageCallAsync(coreResult, expectedResult, _substrateRepository.Storage.Staking.MinCommissionAsync);
        }

        [Test]
        public async Task MinCommissionNull_ShouldWorkAsync()
        {
            await MockStorageCallNullAsync<
                Polkanalysis.Polkadot.NetApiExt.Generated.Model.sp_arithmetic.per_things.Perbill, Perbill
                >(_substrateRepository.Storage.Staking.MinCommissionAsync);
        }

        [Test]
        [Ignore("Need to find a good test")]
        public async Task Ledger_ShouldWorkAsync()
        {
            Assert.Fail();
        }

        [Test]
        public async Task LedgerNull_ShouldWorkAsync()
        {
            await MockStorageCallNullWithInputAsync<
                SubstrateAccount,
                Polkanalysis.Polkadot.NetApiExt.Generated.Model.pallet_staking.StakingLedger,
                StakingLedger>(new SubstrateAccount(MockAddress), _substrateRepository.Storage.Staking.LedgerAsync);
        }

        [Test]
        public async Task Payee_WithSingleDestinationAccount_ShouldWorkAsync()
        {
            var coreResult = new Polkanalysis.Polkadot.NetApiExt.Generated.Model.pallet_staking.EnumRewardDestination();
            coreResult.Create("0x03DE7A64C518F056C5AAF0A61B5C4C2257D37292F1D31B404EAA711F851CF7773A");

            var expectedResult = new EnumRewardDestination();
            expectedResult.Create(RewardDestination.Account, new SubstrateAccount("162hzMgmVHYRjuRLJVmEwDkMEvh8C8D7fRPYmnDfkpwEAa3c"));

            await MockStorageCallWithInputAsync(new SubstrateAccount(MockAddress), coreResult, expectedResult, _substrateRepository.Storage.Staking.PayeeAsync);
        }

        [Test]
        public async Task Payee_WithStakedDestinationAccount_ShouldWorkAsync()
        {
            var coreResult = new Polkanalysis.Polkadot.NetApiExt.Generated.Model.pallet_staking.EnumRewardDestination();
            coreResult.Create("0x00");

            var expectedResult = new EnumRewardDestination();
            expectedResult.Create(RewardDestination.Staked, new BaseVoid());

            await MockStorageCallWithInputAsync(new SubstrateAccount(MockAddress), coreResult, expectedResult, _substrateRepository.Storage.Staking.PayeeAsync);
        }

        [Test]
        public async Task PayeeNull_ShouldWorkAsync()
        {
            await MockStorageCallNullWithInputAsync<
                SubstrateAccount,
                Polkanalysis.Polkadot.NetApiExt.Generated.Model.pallet_staking.EnumRewardDestination,
                EnumRewardDestination>(new SubstrateAccount(MockAddress), _substrateRepository.Storage.Staking.PayeeAsync);
        }

        [Test]
        public async Task Validators_ShouldWorkAsync()
        {
            var coreResult = new Polkanalysis.Polkadot.NetApiExt.Generated.Model.pallet_staking.ValidatorPrefs();
            coreResult.Create("0x0284D71700");

            var expectedResult = new ValidatorPrefs(new BaseCom<Perbill>(new CompactInteger(100000000)), new Bool(false));

            await MockStorageCallWithInputAsync(new SubstrateAccount(MockAddress), coreResult, expectedResult, _substrateRepository.Storage.Staking.ValidatorsAsync);
        }

        [Test]
        public async Task ValidatorsNull_ShouldWorkAsync()
        {
            await MockStorageCallNullWithInputAsync<
                SubstrateAccount,
                Polkanalysis.Polkadot.NetApiExt.Generated.Model.pallet_staking.ValidatorPrefs,
                ValidatorPrefs
                >(new SubstrateAccount(MockAddress), _substrateRepository.Storage.Staking.ValidatorsAsync);
        }

        [Test]
        [TestCaseSource(nameof(U32TestCase))]
        public async Task CounterForValidators_ShouldWorkAsync(U32 expectedResult)
        {
            await MockStorageCallAsync(expectedResult, _substrateRepository.Storage.Staking.CounterForValidatorsAsync);
        }

        [Test]
        public async Task CounterForValidatorsNull_ShouldWorkAsync()
        {
            await MockStorageCallNullAsync(_substrateRepository.Storage.Staking.CounterForValidatorsAsync);
        }

        [Test]
        [TestCaseSource(nameof(U32TestCase))]
        public async Task MaxValidatorsCount_ShouldWorkAsync(U32 expectedResult)
        {
            await MockStorageCallAsync(expectedResult, _substrateRepository.Storage.Staking.MaxValidatorsCountAsync);
        }

        [Test]
        public async Task MaxValidatorsCountNull_ShouldWorkAsync()
        {
            await MockStorageCallNullAsync(_substrateRepository.Storage.Staking.MaxValidatorsCountAsync);
        }

        [Test]
        public async Task Nominators_ShouldWorkAsync()
        {
            var coreResult = new Polkanalysis.Polkadot.NetApiExt.Generated.Model.pallet_staking.Nominations();
            coreResult.Create("0x402C2A55B5B7E13A772E0B693C3B351D2FB5E5B4DA18AC379EBDB2F1F2E75597762C2A55B6068E3B8626608321044A89B82FC4898ECE34524659F48AA72AEF556C2C2A55B5B05723585C7421428D9EF451313E33E13803424B0F8CABD383D0DF372C2A55B5C7A1C48E176AAEAFF69A017D85B27A49F1FAFC160725A3376F417D002C2A55B5CF8D00511EF54AC7A60773810E906BEFB1B322F2D58199963DC973072C2A55B5C7E135AE443C6ED951338D4B32BE6CF61AC5BD000B7A11C26B3078202C2A55B59A282FB173B7FAF6E82984686F6FB83B0293DD498DB6329464A45D1C2C2A55B5E0D28CC772B47BB9B25981CBB69ECA73F7C3388FB6464E7D24BE470EF0DE782E8BAD3C663BE60812F0A2AC63464F5DA3EC448C73334C07D71EF27F2C6C695C4E546C6889CA591B582EEE8B49BA68D8485A3732E08D232B2F28F2342E2C2A55B5FFDCA266BD0207DF97565B03255F70783CA1A349BE5ED9F44589C3602C2A55B5A609BAFF13899D4BA4BAFEC105038D66A716494968FAE1A849D2DD5A2C2A55B5A6413894E13836FB0165E6ADCE7D77C06DCCF42B3B288397A27DDD3B2C2A55B5A116A4C88AFF57E8F2B70BA72DDA72DDA4B78630E16AD0CA69006F182C2A55B5EABF99708C2A9F1E21A3BED0FA589B18286225CEB1BC9E28FF06A04F2C2A55B51BAA94FF2DC4FEAE28C5ECCCB774C622545B0A127DBD5AE8E2C8E115BC01000000");

            var expectedResult = new Nominations(new BaseVec<SubstrateAccount>(new SubstrateAccount[]
            {
                new SubstrateAccount("1zugcag7cJVBtVRnFxv5Qftn7xKAnR6YJ9x4x3XLgGgmNnS"),
                new SubstrateAccount("1zugcawsx74AgoC4wz2dMEVFVDNo7rVuTRjZMnfNp9T49po"),
                new SubstrateAccount("1zugcaebzKgKLebGSQvtxpmPGCZLFoEVu6AfqwD7W5ZKQZt"),
                new SubstrateAccount("1zugcajGg5yDD9TEqKKzGx7iKuGWZMkRbYcyaFnaUaEkwMK"),
                new SubstrateAccount("1zugcakrhr3ZR7q7B8WKuaZY5BjZAU43m79xEyhNQwLTFjb"),
                new SubstrateAccount("1zugcajKZ8XwjWvC5QZWcrpjfnjZZ9FfxRB9f5Hy6GdXBpZ"),
                new SubstrateAccount("1zugcaaABVRXtyepKmwNR4g5iH2NtTNVBz1McZ81p91uAm8"),
                new SubstrateAccount("1zugcapKRuHy2C1PceJxTvXWiq6FHEDm2xa5XSU7KYP3rJE"),
                new SubstrateAccount("16SpacegeUTft9v3ts27CEC3tJaxgvE4uZeCctThFH3Vb24p"),
                new SubstrateAccount("13T9UGfntid52aHuaxX1j6uh3zTYzMPMG1Des9Cmvf7K4xfq"),
                new SubstrateAccount("1zugcavYA9yCuYwiEYeMHNJm9gXznYjNfXQjZsZukF1Mpow"),
                new SubstrateAccount("1zugcacYFxX3HveFpJVUShjfb3KyaomfVqMTFoxYuUWCdD8"),
                new SubstrateAccount("1zugcacan4nrJ3HPBmiBgEn2XvRMbehqvmzSQXT3uLBDkh3"),
                new SubstrateAccount("1zugcabYjgfQdMLC3cAzQ8tJZMo45tMnGpivpAzpxB4CZyK"),
                new SubstrateAccount("1zugcarJnZ4ft2PiJoGg6DgmZjnKNBrcKTFrAzhGPCX6bJ5"),
                new SubstrateAccount("1zugca8p9rquswKkHtVKmzR6Z8R9PAmj8MGL1x3HArdAp1J"),
            }),
            new U32(444), new Bool(false));

            await MockStorageCallWithInputAsync(new SubstrateAccount(MockAddress), coreResult, expectedResult, _substrateRepository.Storage.Staking.NominatorsAsync);
        }

        [Test]
        public async Task NominatorsNull_ShouldWorkAsync()
        {
            await MockStorageCallNullWithInputAsync<
                SubstrateAccount,
                Polkanalysis.Polkadot.NetApiExt.Generated.Model.pallet_staking.Nominations,
                Nominations>(new SubstrateAccount(MockAddress), _substrateRepository.Storage.Staking.NominatorsAsync);
        }

        [Test]
        [TestCaseSource(nameof(U32TestCase))]
        public async Task CounterForNominators_ShouldWorkAsync(U32 expectedResult)
        {
            await MockStorageCallAsync(expectedResult, _substrateRepository.Storage.Staking.CounterForNominatorsAsync);
        }

        [Test]
        public async Task CounterForNominatorsNull_ShouldWorkAsync()
        {
            await MockStorageCallNullAsync(_substrateRepository.Storage.Staking.CounterForNominatorsAsync);
        }

        [Test]
        [TestCaseSource(nameof(U32TestCase))]
        public async Task MaxNominatorsCount_ShouldWorkAsync(U32 expectedResult)
        {
            await MockStorageCallAsync(expectedResult, _substrateRepository.Storage.Staking.MaxNominatorsCountAsync);
        }

        [Test]
        public async Task MaxNominatorsCountNull_ShouldWorkAsync()
        {
            await MockStorageCallNullAsync(_substrateRepository.Storage.Staking.MaxNominatorsCountAsync);
        }

        [Test]
        [TestCaseSource(nameof(U32TestCase))]
        public async Task CurrentEra_ShouldWorkAsync(U32 expectedResult)
        {
            await MockStorageCallAsync(expectedResult, _substrateRepository.Storage.Staking.CurrentEraAsync);
        }

        [Test]
        public async Task CurrentEraNull_ShouldWorkAsync()
        {
            await MockStorageCallNullAsync(_substrateRepository.Storage.Staking.CurrentEraAsync);
        }

        [Test]
        public async Task ActiveEra_ShouldWorkAsync()
        {
            var coreResult = new Polkanalysis.Polkadot.NetApiExt.Generated.Model.pallet_staking.ActiveEraInfo();
            coreResult.Create("0xFE030000015105AAFF86010000");

            var expectedResult = new ActiveEraInfo(new U32(1022), new BaseOpt<U64>(new U64(1679326578001)));

            await MockStorageCallAsync(coreResult, expectedResult, _substrateRepository.Storage.Staking.ActiveEraAsync);
        }

        [Test]
        public async Task ActiveEraNull_ShouldWorkAsync()
        {
            await MockStorageCallNullAsync<
                Polkanalysis.Polkadot.NetApiExt.Generated.Model.pallet_staking.ActiveEraInfo,
                ActiveEraInfo>(_substrateRepository.Storage.Staking.ActiveEraAsync);
        }

        [Test]
        [TestCaseSource(nameof(U32TestCase))]
        public async Task ErasStartSessionIndex_ShouldWorkAsync(U32 expectedResult)
        {
            await MockStorageCallWithInputAsync(new U32(1), expectedResult, _substrateRepository.Storage.Staking.ErasStartSessionIndexAsync);
        }

        [Test]
        public async Task ErasStartSessionIndexNull_ShouldWorkAsync()
        {
            await MockStorageCallNullWithInputAsync(new U32(1), _substrateRepository.Storage.Staking.ErasStartSessionIndexAsync);
        }

        [Test]
        public async Task ErasStakers_ShouldWorkAsync()
        {
            var coreResult = new Polkanalysis.Polkadot.NetApiExt.Generated.Model.pallet_staking.Exposure();
            coreResult.Create("0x0F07B5D5E2A0EC4A000838986B06BB855AD6F44CCFEC6CFFAF6E8BC8AE6D803D8C25EC4D0CF9249900610F636F69D55B8E0350C2E90BF12D5DA2AEFB80C9E3D273E68C357133BFF1E7BD2E3C1013E289926F0F05746DF3C6CE01");
            

            //var c = coreResult.Total.Encode();
            //var cc = coreResult.Own.Encode();
            //var ccc = Utils.HexToByteArray(coreResult.Others.TakeAndEncode(2));

            //var tt = c.Concat(cc).Concat(ccc);
            //var ttt = Utils.Bytes2HexString(tt.ToArray());

            var expectedResult = new Exposure(
                new BaseCom<U128>(new CompactInteger(21089324021167367)),
                new BaseCom<U128>(new CompactInteger(0)),
                new BaseVec<IndividualExposure>(new IndividualExposure[] {
                    new IndividualExposure(new SubstrateAccount("12HCxdeDmbEASiehH6e4vaksgEu4h1pe6eBH6uYZGSnmPsMR"), new BaseCom<U128>(new CompactInteger(1000950003756899))),
                    new IndividualExposure(new SubstrateAccount("12ptjQttvvJPXbSisBrmTYYGFfcFd5tKM27fttsmGatmUEJf"), new BaseCom<U128>(new CompactInteger(508828859593733))),
                }));

            await MockStorageCallWithInputAsync(
                new BaseTuple<U32, SubstrateAccount>(new U32(1), new SubstrateAccount(MockAddress)), coreResult, expectedResult, _substrateRepository.Storage.Staking.ErasStakersAsync);
        }

        [Test]
        public async Task ErasStakersNull_ShouldWorkAsync()
        {
            await MockStorageCallNullWithInputAsync<
               BaseTuple<U32, SubstrateAccount>,
               Polkanalysis.Polkadot.NetApiExt.Generated.Model.pallet_staking.Exposure,
               Exposure>(new BaseTuple<U32, SubstrateAccount>(new U32(1), new SubstrateAccount(MockAddress)), _substrateRepository.Storage.Staking.ErasStakersAsync);
        }

        [Test]
        public async Task ErasStakersClipped_ShouldWorkAsync()
        {
            var coreResult = new Polkanalysis.Polkadot.NetApiExt.Generated.Model.pallet_staking.Exposure();
            coreResult.Create("0x0F07B5D5E2A0EC4A000838986B06BB855AD6F44CCFEC6CFFAF6E8BC8AE6D803D8C25EC4D0CF9249900610F636F69D55B8E0350C2E90BF12D5DA2AEFB80C9E3D273E68C357133BFF1E7BD2E3C1013E289926F0F05746DF3C6CE01");

            var expectedResult = new Exposure(
                new BaseCom<U128>(new CompactInteger(new U128(21089324021167367))),
                new BaseCom<U128>(new CompactInteger(new U128(0))),
                new BaseVec<IndividualExposure>(new IndividualExposure[] {
                    new IndividualExposure(new SubstrateAccount("12HCxdeDmbEASiehH6e4vaksgEu4h1pe6eBH6uYZGSnmPsMR"), new BaseCom<U128>(new CompactInteger(new U128(1000950003756899)))),
                    new IndividualExposure(new SubstrateAccount("12ptjQttvvJPXbSisBrmTYYGFfcFd5tKM27fttsmGatmUEJf"), new BaseCom<U128>(new CompactInteger(new U128(508828859593733)))),
                }));

            await MockStorageCallWithInputAsync(
                new BaseTuple<U32, SubstrateAccount>(new U32(1), new SubstrateAccount(MockAddress)), coreResult, expectedResult, _substrateRepository.Storage.Staking.ErasStakersClippedAsync);
        }

        [Test]
        public async Task ErasStakersClippedNull_ShouldWorkAsync()
        {
            await MockStorageCallNullWithInputAsync<
               BaseTuple<U32, SubstrateAccount>,
               Polkanalysis.Polkadot.NetApiExt.Generated.Model.pallet_staking.Exposure,
               Exposure>(new BaseTuple<U32, SubstrateAccount>(new U32(1), new SubstrateAccount(MockAddress)), _substrateRepository.Storage.Staking.ErasStakersClippedAsync);
        }

        [Test]
        public async Task ErasValidatorPrefs_ShouldWorkAsync()
        {
            var coreResult = new Polkanalysis.Polkadot.NetApiExt.Generated.Model.pallet_staking.ValidatorPrefs();
            coreResult.Create("0x0284D71700");

            var expectedResult = new ValidatorPrefs(new BaseCom<Perbill>(new CompactInteger(100000000)), new Bool(false));

            await MockStorageCallWithInputAsync(new BaseTuple<U32, SubstrateAccount>(new U32(1), new SubstrateAccount(MockAddress)), coreResult, expectedResult, _substrateRepository.Storage.Staking.ErasValidatorPrefsAsync);
        }

        [Test]
        public async Task ErasValidatorPrefsNull_ShouldWorkAsync()
        {
            await MockStorageCallNullWithInputAsync<
               BaseTuple<U32, SubstrateAccount>,
               Polkanalysis.Polkadot.NetApiExt.Generated.Model.pallet_staking.ValidatorPrefs,
               ValidatorPrefs>(new BaseTuple<U32, SubstrateAccount>(new U32(1), new SubstrateAccount(MockAddress)), _substrateRepository.Storage.Staking.ErasValidatorPrefsAsync);
        }

        [Test]
        [TestCaseSource(nameof(U128TestCase))]
        public async Task ErasValidatorReward_ShouldWorkAsync(U128 expectedResult)
        {
            await MockStorageCallWithInputAsync(new U32(1), expectedResult, _substrateRepository.Storage.Staking.ErasValidatorRewardAsync);
        }

        [Test]
        public async Task ErasValidatorRewardNull_ShouldWorkAsync()
        {
            await MockStorageCallNullWithInputAsync(new U32(1), _substrateRepository.Storage.Staking.ErasValidatorRewardAsync);
        }

        [Test]
        public async Task ErasRewardPoints_ShouldWorkAsync()
        {
            var coreResult = new Polkanalysis.Polkadot.NetApiExt.Generated.Model.pallet_staking.EraRewardPoints();
            coreResult.Create("0x784D250108000B93D72DCC12BD5577438C92A19C4778E12CFB8ADA871A17694E5A2F86C3740C7A01000020F1B8ED9726E2781F24A87CD41E31E7CED50351422403E70FACBD1B5E562FF0410000");
            //coreResult.Create("0x784D2501A504000B93D72DCC12BD5577438C92A19C4778E12CFB8ADA871A17694E5A2F86C3740C7A01000020F1B8ED9726E2781F24A87CD41E31E7CED50351422403E70FACBD1B5E562FF041000000B03B23766D70D0445943B290606521ACAEFEE7660D521950FAF2801C79D42830FC0000021BA8EF466CCB7A06BFDEFDBA01817E620ADA5954C34F617F6662E267DBDA154CBD000004587D42F37709C7342F3E915B5A1C6F64CA916B9FA8279480C8602C600889BD746C01000507535074B7DA9AE4989D5010CD0FCB3A33F8A516B721DD1A82C0A44901192E88B800000656AE99DB65BD6B8FCDA6BFDAD3437F4A15D46024959E6EB413C4BFBB105568B03A010006E11FD0D4DF6C4765EB346AAC47682CB7871DA9ECFD235255F6EADB8392B20D8877000008A1E0292A6C1E6D0C4F0A2DC4D2C3F9B0E7C5D8213CE98D01B8E45BE9EDF158CCBF00000AA041BF62D5B52ADEE07E7CBC0687ACE86E77308A982C07DB871EF2DAB63901683C01000AC36A1E49023E5BE602BE916BF457483BD13A532262F88EFBB8ADD334B0A66880B600000CE14F14486F3FB3513A44A19970A0BBF4DA8B642C9837CFA251B33384DEC257E0FB00000E518107B425628E49C4FEE37FBC08020235D0664FC5052C4FA7415E5797C72CCC3C01000EC3F7291F82335606F98E16F5480B38B3DA95D2E7EE9489A89A8A39F9DAC95688FE00001082B1A911DD8E9D01EBEC53598DA502CF118AF543DB458CE6D0E60B43A5AF6624FE000010B2F3FBAA08EB3361A1590BB8322B1FBEF13BFD56BF5E04474D2A1ECAF9BB48A43C0100127A30E486492921E58F2564B36AB1CA21FF630672F0E76920EDD601F8F2B89ADC3B01001280A479EE3BECA7AF1636ACA17582F30829782E2C9B1B9C72AAF8060563AB3738350100128865FCED1FE2AD870D0F1EF6AC3C73C78012DBAF73EE9DB06BA403CB73A5234C81000013BE73CE92B712D00931D4980713BF4BE8974255E1E51A7ED71ED2EA37F035DD58060100161BE097A4282AA58DAE029624395FA7FC1C25CFA95AA7CC5100654963368442F83D010016B94E2D5D12D60C7314CCA383BF185DDDA83F413DA740A121601E3277D3083E14FF000017316829C406A05CD9CDB8D5DE5FB23D26B3672F8CBCA1FCC6538833589A121A3C3B0100182AED996417072B53EE48CD26D29FD7D986DE458E1427E9FA9F21FCB261505B44F20000189EF65D1A77ACBC1492C95EA3A58CB70B9FFFF211190368BBFA21198C734C2DF03B010018A5657B88D667AB46D1070D58ECC1F15011F60DF20F510EE0AAC61754BB9E0164FF000018F16F2628D93DE560E2BDB6D1CB4AA3B681CAAD2C5AE723F26C09ECB676BC68E47901001A0E48B445798CBB689F86C9C17CD5428CEC3BC370FE85A73CD3F1410C335D1E08FC00001BAA453966C043CA367CCFA19F450244447B9D32F4B7AF2D9749E55A57AC09CC947401001C1975391B6D548727640335C328519ED843487C5E2A9E1A5FDA09A94590BC5190FB00001C79A5ADA2FF0D55AAA65DFEAF0CBA667BABF312F9BF100444279B34CD769E49B4FA00001E86387B4F6975E4CC574038CAFDDC0FB14D09B846DA3C657E27599CF2AAFC51ACFD00002076DB3B59F25DBE141F2F46FE0208978DE4F9A3929376253B15968B55025E487CF1000020857206FDE63EA508A317A77BC1CA2A795C978533B71FC7BC21D352D832637C60FE000020AC6C23E69518F5C048CDD4341F431D23F1BDCBA3ABFAF7349241DB61CE131728BE000022A0160F0FB6403BD41DB7862FD650AB5D425FA63B0BC09467F065918DE0E970B842000022ABC926B7B1A5A0A202183919DE1089D04939E09833CA7536B52CCE9FA9BF35D87B0100282A194090FD6715E06430D8A6E9C682F021EAF398830B10DB94CA8C27C9AE4C783B0100288197FE1D9F6B12EE7F9656663791366FD5EA4EC01999D7A7F8B84E22A0591B14BE00002A9C511C5D5CE66C809BC497EEE0E5DACAADAC372D56FB12FF8361B8F42C0760A4BF00002AE939FCC0D4FB0BF095E48ED294463613A1E30381D269940CEAFCDFAF87EC9440EC00002C2A55B59A282FB173B7FAF6E82984686F6FB83B0293DD498DB6329464A45D1C34FD00002C2A55B59ED1954E80BF1349EE5882D429D261CF9962BC5D88A1FC176E60C918F03B01002C2A55B5A0AC2E467C72C205AE9252A4E8A0C206703950F095C31EA3F022493A54FB00002C2A55B5A609BAFF13899D4BA4BAFEC105038D66A716494968FAE1A849D2DD5A80FC00002C2A55B5A6413894E13836FB0165E6ADCE7D77C06DCCF42B3B288397A27DDD3B20FD00002C2A55B5B05723585C7421428D9EF451313E33E13803424B0F8CABD383D0DF37848000002C2A55B5B7E13A772E0B693C3B351D2FB5E5B4DA18AC379EBDB2F1F2E75597765CFD00002C2A55B5B86D232309CC2D8AEDF4C647656FC6A40E2CDC299020174154A7FC42A0BE00002C2A55B5C60139F9572EC1F88F541744AD98CA9CD09B5641E84088AB0AB3920CA0BE00002C2A55B5C69B5E131FB0F65AC7CA707F4BC53E4D991A2D1971AB5E702F69F45C3C3B01002C2A55B5C7A1C48E176AAEAFF69A017D85B27A49F1FAFC160725A3376F417D001CC000002C2A55B5C7E135AE443C6ED951338D4B32BE6CF61AC5BD000B7A11C26B3078202C3C01002C2A55B5CF8D00511EF54AC7A60773810E906BEFB1B322F2D58199963DC97307B03A01002C2A55B5E0D28CC772B47BB9B25981CBB69ECA73F7C3388FB6464E7D24BE470E98FD00002C2A55B5EABF99708C2A9F1E21A3BED0FA589B18286225CEB1BC9E28FF06A04F6C3801002C2A55B5FEB0EB28FC697566384DAB127170F08C1C2A6FEBDFB4CB3185EF891774FE00002C2A55B5FFDCA266BD0207DF97565B03255F70783CA1A349BE5ED9F44589C3603C3B01002C2A55B6068E3B8626608321044A89B82FC4898ECE34524659F48AA72AEF556C98FD00002CC16DA9D1F7271475075AA8EB5C6667714426B8C41DBECF92BDEDFA462B71635C7A01002E2409B5EF509E1E584584EDC945545F42FCBB3F288F3355E9194206B4CE773FA0FF00002E9BBB2CFEBFEB22622C29BA56CD766025F4CF35C7737BDCC6762378B7CB207B241D00002EEB1A6884BF369C7D1AB3F9FF75B79DD0F6C6A9792834E026A8D2F7EF049E4DC0FD00002EEF2AEE654D4975535F2701AF86BA6D169C2C9A1599B16635A2A5E4640DB94D68F6000030198DB6B0A97949715F03D1CDC7FEDD6D29B22CADC8D639EA0BCD2CF684582924BD0000303349FD10535499BFFAA9145A99B0E9E28DF29C3FF9EF1A1BAA3BE64099C77C183C0100305C5105935CF62FB0C9408E919D4855B7C6C6972491F88261835CC4AAF60245ECBD000030606B4C1B89B4E562EFAFE76BEC80154AC8B3E16E04C2E0F619BCDC0A5EEF52AC7A01003081CF5015584E71F7130D6D3D744F99A009A347734D85EB8E4F53D79D3623652039010030CFDB48FF7F33B08499DFC618A8EF9699B8345FA65F0B1339EB8EEC3C0E455580F7000030E3F26094A2536E02B6879A2A92752493302D84029B80FF449EBA8B9DD80D1D70FD000032AEE225F2714C573EEC965A9DD1E1CA399636D9158CE068842F0558F360A43590FB000032F18F75E68CE71CFDE8551A80A9AEAF56AFE63C1773FAFAECA7260F8132A214342A0100341646B4F31605ECCAAD023A8E17D6D8AC423420700DB4BF0F125809C682E63F043C010034968759C88695ED60FEFE374FF71252CEDF3A49F238B5F9EA4442AFA1184F29403C0100360D52090BBBD32B598BEB80197C95C1004505135F0493B089334A52E3A18140A0BE0000361B17B51E238769CF7AD4FD89EF1BB22C3C916C6C760AC57EA6C2D70886096F603A0100364C29BFBC9F06A42B5CF37FFD831E91C843CC25D8B90071546810ECF279E458C4BD00003694566BFEBCFD72C7816A87F2CCF2963C0C794737055EAD20B502A89432B900987A010036FD9B64E99689363368298680CB35750A594103048BFFD839AF770FE5536C6CF03B0100380766B2D93F1737C6D8DC713E4A6D69B961A14A11F676FC479B1EBBE4B81F03F47E000038A295559D8977464FD8CDD133F8805F2388E42A6E009219247048A27D9AC06B783B010038C95B31FE81BA229B2E2216F0BF6812CA45DC3AD5C49E15B48E0EEF5555BF40D4BC000039A1F89DF89766E6E0771C1CF047FB712FDAFF18EEA966267C01FF74969876F6F0FF00003A5A7E1A55916817A23B08433BFF85BAFC28855FBE67F8D2952B6B5B281640306CFC00003C017930B46AB5A4413BF3153B001287ED5FF7FDBD2734CF69ABC843F4EE04470C8000003C1F7D137511560F34BD17FF8E9E48A9831F24F71512CE96C39267E8234B5E267C3701003C6D21B257BBFA6EAEF65227C3CA8F934D4DF946F53F65AEE505DFA6B741C852A47900003EEA2E1C17FC878E20FC5F88C82D6B08FD3324CBD24C176351ABA2B06D874F21687801003F24C61F66F5C798CC97ADF5258664937F3C16D0B35121A8B45CC81611BC8E5920C1000042019132C3CCAD3B962A76942099BF218649DB3F0BD6B5336D94D5C8ABDFB162BCFC000042EFA2E57A813989DA4BAC4551E4010EE45003FC3F360F5202A958B2B1A2991838B80000442AFDE41C8D0CFF9680849824712996D0CD96906DBA9697AA5110CD6D025E1598FD000046807E1B5BA42007B46E58F24FAE00ADE4115E1B15680337F99137A5333E0E43B83C01004687FE7E263038BBC1B371C67E4F18B23A6B2F65C9CFE87675DB0693ECA8161D2C3C0100484CDC76E0B6B2CB4E30850327CF37E717D91E343A62BBFADED38AA8133CFE347CBF00004866C7C5C93A0984394D5279FBBECB07C1E48368B042566EBB632C2055698B02A8FC000048931D40A4936659A5B03E419DB8D3DFC8FFFAA9737AD5771651552CC840210A94FC000048B755EB292156CF0370D8908458294FE986FD54B605ABDCF571CF951B1B263A5437010048E181BB690336782CFD0B422FAEC0A561B5B35A6C2277F8073127EA8CF67B3564FF00004A45B84757C48776F4C5D887E269E8E6C3F2FC55F75ADF222662F129F9FA5B4028BE00004A8DE2C6B6C1690A27AAA4CB64E0168BCED54AB568958965187646F06442BE6DF03B01004CD38181E02E880A53114CCAF987A6F51A10BC1D172D509BAB6F7E9D6EB2E00BECFE00004E3F1E6F79B3560A0396F1099640CCA26BB8FFA4EC9331B52F34B34CCCEF631050FF0000509973649092168D075F8FF9192B46DC74A515DD2BCC03A1061763C396E5DC6230790100545E8064F8898A29D4811E09B207CF3302E5CEFEF16615F8580FCD8FA63A624E68BF00005606FCD617BB7328F828EBC07396AB27F038EB5F036125A2AB5B60AB9218F24250BE000056196C14DF0A7036B943ECD01396685E799F786C0F131796C06850EC9342FF01A03B010056AD64B58553E04382FBB95145EFE3DFDA88B5512C0F8FCF1CEC8EE0A05DD172E0BF00005AC7F6AF5AEB5364188840D02F0E74E813E6D9CC0398D6994B66727658A4FB30108100005AE7010248DAF19A0B83B3D131F63A693785222293AF4354035B8DCE851FB02B4CFE00005E10FCE6EAA355C47476DFFCE1CF118A1F0C28BC4209C8242D4271D07BFC2C0364BE00005E1EB942E5F591BC1D902FC6A04DD7ECADF5F4916F2597DF0505C6C521412C4B70BC00005E348817ABB98CB962FC0780A47EBD471D9C318395FA80B4529A64CFABB2E32CBCFC00005E5D733B1D460C0836C2F01044537E6846E6200923C2A7E1E4CBEA4DFF4436472C3C01005EC3359163109E793B726065A0ACE5A201B72FBFC2D346C181773A04EE3EC87224C200005ED6F4B68A60A117A32059E96678F22FA086C505F7A8ECE13C7A2E78B4788F15E4C00000600240B3B79FCD002D75C09A7F251B57429449C646BEA7A72403A051FA8A4036243A0100605FD1308AF1CE85BAB5BA3FB19B330AB7DAC29E01AD501420560F44DF7E0E1CF442000060A8308DFCB6611D34C0780562713DDDB62FE542EE0D51F3F24AA5AD776B2E5248FD0000628F36DDDF8CDB0242104A2531E7D3EFD4860A9A4633BE69AAF30F63CCB25A5E54FB00006558E62BB3E9E7DA178A13F657C9A0E86044335A77A672F9F571489F43AE07B604000100661C3411126385866A6C72A5A339DE1A870663555A16FE1EC5524401111B421FA8C000006672CC7ED81D4BBE2FFDE330A7C105CDB160989FB830BBFE0D05E9AC7214CD01C0FD000066798E5AB03C38B0A4ADEC63AA39210E852AEEAD6AF4D8A82DCA14D26312EB09D4FD000066DBC4EE5444F2E09C0EBB745C230A8DC516302A8D28A42CFD7882CDD8162E792481000066E38A65C3F53A195F63CD734C5839433D2679775F6630687BDC07043FD4A11584FD000068BCFB86663ABEC620784EEC51572FA12BA5E10A7F312981E4D6F1BCE379B9393C3B010068F6BFF49B2D945025F0ADDD42AADDBA97809845A5572C24F7A911249DDC07632CBF00006A0DA15516A63ECC95CCCFFECEC2A2AED962E92CAB661AF4B1F76B65E429CF79C03901006A13A77DDC9B38C10586C94C2928FA1AF377757F877984EE76C511C6079B2F6900FA00006AF358E5650B61943BA709EFC5DBC501405E04D5DE5798087D6C727027511A6504BF00007046B09E1B89A70D6801F8F3EA0FB3C19E8B7BBAB64617B312BE826FB08A590E546901007091F937FBA948654220A41EDE536B0D62CC30D20274A28005B8026564DB8D25D83A0100729324FF6798093939A73546E0F3D53A9CD7D4E938D238145C9422CE9F0BEB074433010072CA7A95D321217ACA6DA464AEB6A401A48AA4B457CA17E8E5D1DE800A076C4364FF0000741581AF3C9BFF5769BDE735EE623F7580577F4DEC888C9318485E16B6A0D810ACFD0000744D9A778B5C53B54EB743DD93CC90079261A6E7FDFFD8798E6406817D125D7B60FE000074C92D1501B154B7290F4AC36E45176D4C6BC2548CAD5B254DEF72C3C2773E5A78BE00007617B9C6475F887BA801CEE49B322A4D888224C8D0791BB0D5C999B6605E251AAC8000007677C2A4DEB2689377319A8E830D5D9CE0AE32B95F096A7447F8F711B7F0333F28FF000076C26A1FB9ACBDD56BE00D4C44901856929B9D2A879CAAD6119AD0417E994949CCBF000078177A8AC7C51E9A165EDD1A027402555AB42D2F8EC8107536DF7FB34084EB3580C00000785E826E5BF7F587CBEBA82493E55BCC159D3D21119838E106ABB7091AC4422D84FD00007AC0C7E610BA022E2A048FBF5FD9949F96D813815F7174CE30F0124BC52C96642CBF00007C3F190F0ABECF2B39643A21A67DF302A024487D84128D5BC68FCC445AC23A06AC3901007C6E71DAB02A17292E9C2F3FB01D12A3895AF33971A8FA710BB2820CB9D7A31E78FF00007CBB0ED8BF228935241774290753BF282020D73E45F6724B0196C97B3BD53462802401007E74E295C040927DE4200C770994A314185D3EE447BE3D70C79ED056FDD1AC53143B01007EB71C2356EDD039E714141FF023579E979466C0F3ACEC566714EBEED15F5D6C643B01007EFD4D272E412F7169470D93FFFB03075854AFEEC6F0230AD4530F1D55FC4847C8BE000080833B98DEAA7AE201C9D2AABBA6D7CBDC14ECFE1548C52B8AC4907ACB14C863B8BF000080AF4D39C625C32B2B6EA0B94C341AC826C49FA28451768E71AFB46BC7AFAC0488B3000080BB486F9B44CD9C3200AA5F85CC51E8921ABC81BB79514248E4C486E85CF96510FE000082635369D20E36CCCE82C98283410BFA4A4153E31BEDB52B33CBCE5543CBA21B94BB000082D9D915252C3331626D7BEF9FB9C6ABFDA3ECC1884BF165807FA7C24B28E16738FE00008413FCA2F93B3526794F655FC3504B40E0DFF0648A4999F10F8ECA7C21D1C21E107C0000844C2EEA62566660B545E5CB75C4FFA2412B8A93BEA1734156A8B10250CE8851B8780100845D26853B5CAF8444B5995C50B7B9BAB9E7FFB27CD20641CC4C9F04E5942B41EC8100008639D9F577D4910627CD5D4643B205FC5476962AFDD1D0068CBDD01F57618F608CBE00008A1EC46479FEC3C43EEA382D637DE8F295CCB2C0B6F6FDD4C5D34A687737A601F0BE00008A32F59713F0A129FBC395DBC853F51AB53D45D1684C4BC8DDAD89FD55FC096F503B01008A449FAC4875A24774175651FFCACC851939EFF231FCD2E270E1E29429902059087901008A64DCA67C64D9361901A1415BFB3469B000D0BF7F1D439824CEC71F8702215908FC00008A650412C92229BF1A2EB1C0CAB9C133D54C5B82CC723B202EE634E925EFFA6A102B01008B1789281B38392A08AB0516A21DEE49FBA6F5E55381106FF7AE190563CC84F4B0FE00008B7602F67D9D61682964F3B5989F357752F75DFBA430603DA1384059B79F1535247601008C076C2DD6E9CAA8D135CE6472493EA335EAAE5E8250A71A2365929B9921602584F800008C23324B0CB29E4FD1A68CB08FEBE58B50E39D8AFDB5F752D6C26C8BA52FC002A87901008C2BAE6068DE838D1FC684DB669D5AD1DFE26F37887CE815734145764B7E712460FE00008CCB33F77FBF009AD78E5E7D2B36BBF5355B9C4CEEE22D75B1323C0C196E1C39447901008D6BDE6DCBC00B588A0ECB71F4C516D9EDE311D3FCF942F89228221B92A2C1A394C000008E03D1D653C37A5C2DBE0FF4B96D7BB07C9908594A5DF84740B206CC5111177674FE00008E07D43B19D901BADF3A7F57155CA84F2F835448E93A141BBBD33EAC4B767D15DCFA00008E41DF7864847EC31FC0168967DD5B7912C21F4A597438C697F7F4C1A29C4D5714BE00008EAF11411ED3BDA42C77D9C9CC71F5E4A9BCE979179446E9C8AA0809581E432CB83C010090061ACC3EB19871101B732F5FAB60FF4E139DDE0ED27B85893ED15ACE3CDF1A78FF00009088B991261091D43C92CE790D4C8FB007B7E8D19C9C619A7D722C6FBDB55F04343E01009208AF2FB9F1511FACBD517BA7EC0296D6FC9FD010896EEC0F43A415B68B3706B0BD0000929885C66023F492DF489CECC1316D0BA2D2E1AF772C55C1D8285C409435B93208C000009474F44FCEC968EBD7BDAAEC1BCDEE0C01E940142AE81C6009933DBEFC20760CD0FC000094C7373D1E335E281B2A80565B3370C5DE9D6B2D87FDF0CDDAC5641377A24B50187E000094C8F2AA65DFF23F542EE99D7191E88EECF45B3A61B7350DC3D48804107E393D60FE000094ECF114C292F2A24FF6DBC3DBF8311BE37EF53F7E78C9D1A59D0C5762CAC67238BD00009616812063EDB4602413868C7B859655016342AF7D6A64931E4520AEF65A46278480000096625A0CBD0931AD831ADD3BCAA6320950385AEC23B3854C6CE987DE1C9F8837A0FF0000988544D904B69F654C94A918DE20F236D004EF63DE772B0F2B91D6AA5B871E0864B900009A71F753F8576834B7B43F9C33B61C177480E31C4B55308297FE3E7DFCE06F7B88FE00009C14DBE4982AE73A084BAFE1F7EEA2D51F3819088F08A10EB2FD7A1343C5140BC0F300009C665073980C9BDBD5620EF9A860B9F1EFBEDA8F10E13EF7431F6970D765A257A0BE00009C6A3401D06CEF30FDBB33901328F3611DAE8253708779A5D66179C96758263510FE00009C6BAE578812080B2F9ECDEF913F4F68ABC3DCEE697F505625E8430C8CE3122C303D01009EFFC7FB904CA3D8CC4F45B464EE4DAC705C89888D298BC9DFD2BA563D5B3E3FD83A0100A0209C10C7D6633DE64E166A68D9B45E7F02AACD9497F5C552E577ABCDB17D28A8FC0000A09B87B34880C5375ECCA849557DC87A00A6243938D5882017FA0D1F6019381588BD0000A28942A9D2E8C8501860B847EECEDC45D602E614B8B0849B959607D0DEC3D0718CBE0000A2FAFEAE641E6E264D77723C00AB05F503DB48CA3597CB3242C2B54D90ABD01D9CFE0000A4A2B4EE5AD0BC423C3E2B5492545F2096550FF497B0749D535B885BD96D1828B03A0100A4D30A367570BE5FC2ED7786254B990BE8E9E4B0DE0CCFA6BA610E445CBFA826847A0100A4DAB34DE26E570E8FB301F9C947C6F5F862DFBB27C9DE5CF473675CC244213A503B0100A5621BACECDB9D44EE96EB79109D23FB38F7291F9CAFF0D3DC1467C66847DAE7F0B40000A81B8A2A03AFD92AF18F0338E43AFC504C6018ACA6D9197C0D3A149CE65EFA0E8C3B0100A884D4694BEF6D1C6901475028E23F24AEB0C769E7A885441294B387295E6B0440BF0000AAB69386E2B8264FBDBE9AB35706CEE70FE33147D42EBE2B45B0521B43831D54B03A0100AAB8591C28B705B3B8B67FBA34373847994B66C060DC32B225139544CCAA433578BE0000AC12E1C84E6B11175DCB8EE1F13F52D366EE23781F2042020DDA2653EFDBE84BE4FC0000ADD1D40EF104FCB24BE637EAEB9704064663DF235FEA0799829E270333774F3B48FD0000AE0900005EC8554CCC01C89BC73D0D45A4F307FABEB6CFE87B141E246E33E756807F0000AE1595F870CC27A34374A6B819A554E242997EFEB760433C6FDB4372C2F2820474F40000AEE72821CA00E62304E4F0D858122A65B87C8DF4F0EAE224AE064B951D39F61048FD0000B023D129D9A0CB9490D097DBD3CA947D4830D3A6D7E0FA9975FF2789D9D97352687D0100B0C9266EBF0958D0D433F9D06864CF6E5A4F615AB978DB196E6A9413EC2DE448807F0000B0EA8D006C28DF8D2833DEFA4850A6B5FF4717C785D481603D2ABC442005C65AE4FC0000B204051D55C2C80CDF6E0D3346944E921FC97F0B86A4CC5EB5547982FC475D6884BC0000B2A9DCB35E27B71B75BDABF1CC706C567E50BBB20631E4F94D5EF6AAD740FC6D68BF0000B2C4D2772A169E3CCD912DB6415A39A6F0228C89C7045556951B779133062375903C0100B2E07BE4D6D82F546EC91D6009EE215BB736BE5B4362E66E7B466EC72D47624FFCFD0000B4154F12CDEF88338EDFA85CBDD64B61C410187E4F7971057AEF32CDAFDFB70210FE0000B45AD6A53E0A688752F3A40F49CF7E666169C787F83BF1C2FF8AA026D99AC177CCBF0000B6979B7897A0FBF4D194190973A6487277B671932C68712C8861A3C0945A861EC47B0100B81712E18E76CFE727BDA3FA65662405F584F1ED059AAC110AB6F41851BA7E26A4280100B8473B5E37E993092F313F54B58762953589245F5552612EC90042A6D59D807A38FE0000BA4358B81DA547BA46F897DCC83CD6C94A2AFF075E25D2F92D420B090ECE5728803D0100BC1729A527AC8770C18456F142DC57B24069C9FF1032D6C3A1572D84B811AC7E2CBF0000BE1C8831D018FED582688B5E75BE3C9983AC1761FB24A916451C6999C0C66F5E64BE0000BE2DAF84705DE34C1930370F53566524B08145B4D192D6CDD5A35CC71930E240F4780100BE7D342B6DCEAA0BC80F0E1C6D8415A589908DDB50EF59F1EBBD520727FF607934FD0000C031D8519D06C58A2B42AE7022DE4F3242D3938E855501455B3057A28FE38E6C8CFF0000C056D91FD8FB8DABE669748D3E0AEBF560449DAEE47C4E4C1BB6E4CD30D910451CC00000C08D5DE7A5D97BEA2C7DDF516D0635BDDC43F326AE2F80E2595B49D4A08C461918BF0000C1F215E6D1C4CEDE0F67C75DFE8C1F6F3244A318B4405FB775E76B8B6453CD3C707A0100C22EFF63F91830D4F1B882BAD30AB87660AFB93DBA8C027933706A95D063B066FC7A0100C2BA6D32D980ECB8450511C34F3C4F9A1A46C40CBD61C4D4120DE3525D9F05735CFD0000C2EEA43FD0E45E0E756130E01667533BCAA001E29E0192501E7CE2186EC3554AE8FD0000C5E80ACCF4092EA6F8ED087544576DDDCFDD51366B492868F73B0C9CA19C5F314C7B0100C63599D8442F3FAF02474552F5981CFF2E70144B5A3BB975B48DEC2DF1D4062CACBC0000C65DE6003709AA5A6B81354C00FB13E281AC05E852CB4194C69F78566E8AC828A8FC0000C6860F7015C86B7074A74FEBA7E8A19D9FC885521498D7668A12D37EFE65480950BE0000C885A011DBC63183416FA77F78A967AD0FFBBBB62E444E9EB490ABD2FC67D32670FD0000C8B04700655946C12A863DB32CBD84265CCA50D141EF81D868B6EFBA1FFDC80A1C380100CA386062A9BCA5F23C49B71AE24B4005C33BDDD54AAC0115517728223D441A18207A0100CA38730919998D8DDCF5E729A8A275769B1AE064D1E0F5528DB03EEDE05D5E24D83A0100CABCB84F5DD2BC5F057A9CD2228148BD28B7A4803FD4DA26E4595946C7446867CCBF0000CAD66FD633937C6315D3253B35669C58FFE2C87976BD217C8CEDD00784267B6BC0FD0000CC2DDE4403D477D784ABB0486CE18908AF209F2C9D8581D33F7E847608B5D12474FE0000CC9385C21D3B6B6380CB412A5C57A080327AED7868E09032D21C958A69E69E050CFD0000CCBF40CC53A67FEDAFF6111FFCF4D618AF1EF8258560609082989FE66911233C08FC0000CE3268D415F136DAB575D25DC0B1932B736C7CC785A1CCC04F0474B458115F0C74FE0000CE4761EA5D8D29DD92A78DC606246D8146320A5E9292DE240AB15F60C7802E4AD02E0100D05490AA747179F2B895C2C5171E9CB10A474FD07D1A8069389678E165369E5698FD0000D0EE5462AA1F69FBB13D1BBBA3FE774167CE82A5CD36DA733F2F2DB0E7E4AD4DF4FB0000D22F4B3F7A9F0878A49954E7B4491CA841F68831C2E8AEB383CD79DCDC00295B58FC0000D24F805CA7BAFB11CFDB0ACE585A9D0E6EDF83878DC7B42946C33C237821146458C00000D44533A4D21FD9D6F5D57C8CD05C61A6F23F9131CEC8AE386B6B437DB399EC3DA4BF0000D48160A2EE8FD9432BE3FB3619E4B309DA87305B83F29F87CE3918460140ED0998FD0000D49CB030A944C5D66DE3CA7D4B8F5B37DF03A610A028EFDF313B5B405B3614A4CC830000D4C9B5341B6040E6F218C5476E5BB87A26FD80E03A0AC65B92D4D3EB917C8F22C0FD0000D62A2B80EBCDA1B2F14D2A903088759CE56482401FB4130CDE32775D6D210A6A88BD0000D7264854FC5645D065341B90947BD9BE1564DF8220073EAB4043F4022E633E8F5CFD0000D85F93F47F94ABB8DFAF8C817AF3D4B539847141277479506027F06C54CBA4403CBE0000D873E5F608496742D7CADD1EABFB8DA118A4E12384E23A694A7B71D14F33366ECC780100D9BA7812C46BE60E86E1DCE7CC23721D4CDCAEB25BD8A7960A5FBC48D68C4108E4FC0000DA77FA0D82D2D92EE03531AD36F3867BA4FE7AD8BBF7E9BC917C7A767C64CA34D8FE0000DA9F7FD3D9612A68D2EAD69DDE53297B172B7DB514D0D261E7C5BE987DF7F32A48C60000DAA254113C992EDBEF28F452689F74B31D274D5681C2A012379FE4C40E40EE7970F80000DC3AEE12519C19BE02628B0F808BDDDA9AED564027AD809CD392C13E9B924B6518BF0000DE1B663515515F63EE1228024BF16550F8ECC057C3C11212C9B1988F7261F86B3CFF0000DE3B3E301FC38B215175B636A4A71B21B893453BA2208B8280D38B3C30AE0729F0BE0000DE7D8DA7B555D388F637270FE722557129B90BE3844921A4B3E01F412A98F549C8BE0000E043D8F7872CD895F8957C9179C4264816BE3E649713CB3BDC523F752602CC3AACFD0000E21727312B2B7CE579DC0F82F129D4EDECBCF00ABCA607D73CCF16E8352CC777B4BE0000E2D406C4177E89A0BA49B541E1418F7CBCCC0B861DD17CEAA73EF7F9882D952018BF0000E2F8AEF0D1BC20724C28440D40E2CD31E83805A1F641FBB73CC1C5B77734607654BF0000E33F4520B7954CB5FEE8778B44283DEB0948C23C6B432058B21EE84E92085F3D7C6E0100E40DB41D7F07B2B867FAE0D7B8ED6767D23F7B53B032710DC5B5043474BF1D11303D0100E693F8C8C6043A5D8C8ED64D56523D157625011947A8A79881987D9E9100963A38FE0000E6E13D835BF8B44914CA24613B9CCD2AA2FF6A187DCDCB11D531701C5FCEF91070FD0000E82D3B7FBFF7F5FF1010B279435012E0CE3B68DC387EB2827FC2E9D5001ADA7C98FD0000E8382680E672B8403C57F2BD1073C34219FBD40160E8907FF4CBC548976D263F2C7D0100E8928812930A7D996416662E5C41FD543BA1768D0DEB243E17811071E57DA36080FC0000E8B6A4EEFEB4942BBCA2BEE6BAEE73280D49C1B7AFF8D1AA7616D06BC173AD7F307F0000E8C7AD65C15FA3BA64424A61B177382A0C5468135AECCA9CA454F5E7CE4D305B04BF0000ECDD548C83457AB43CAF7867E2BEF91EF783025DB9659AFD89794EC1220ACF29C8770100EE080855F606CCE66BDFFFB8A73C54A440FA4A4EA1F9A487B7E2DADEDAAC205B84FD0000EEBC7887720EC1CE8B759629CB425DF5F15011F0D455BFE1A22AD4CFB36D1A3BB83C0100F0DE782E8BAD3C663BE60812F0A2AC63464F5DA3EC448C73334C07D71EF27F2CA03B0100F2E8A164A3517D03FC58ABEDB1B8C6ED956C691B34AB28F86B3C45E1D8B7777A78FA0000F663B33CA66051A034684493AEC66DF1466D94004A7459BA5DE8E9E7DAA6C30150310100F68FAFDDA61F708AE4DC2E384C8012719774376E478BDC857F7191EF449AB52260FE0000F6B2256178F0210557DDCC138E8B264204E4674FB2D73A8190FAF4AC3724722FE8FD0000F8720C905D7AC1ACAB25C4F353DF9EB759E0141E4732540D163AC444260F0177887B0100FA23C23E7352D3AA5FD58289020DD732AD36A009A1C65F3D0132E867B5EE110234390100FAB573FBE3296563205563EB39965933D33EA5A591C45AF07F0EEE2272EF6723487B0000FC6F8380646BFA19F4DC7C1ED6EBFB0A93F5781793AEF9224A05E805426D151C603A0100FE9D714EC9EE0F74E33282DD9E411FD0F47C1AA17553392642DF99D1440DF9517C780100FEB586A6D2406AEB67D8DC3895F09DDE186E89556EC3C166B6FB1D94BD7A025E44FC0000FEFFABD8F3747B5CA19766866BD59856A2E65C537C6456C6F6863C026915F473407D0100");

            //0x08000B93D72DCC12BD5577438C92A19C4778E12CFB8ADA871A17694E5A2F86C3740C7A01000020F1B8ED9726E2781F24A87CD41E31E7CED50351422403E70FACBD1B5E562FF0410000

            var expectedResult = new EraRewardPoints(
                new U32(19221880),
                new BaseVec<BaseTuple<SubstrateAccount, U32>>(new BaseTuple<SubstrateAccount, U32>[] {
                    new BaseTuple<SubstrateAccount, U32>(
                        new SubstrateAccount("114SUbKCXjmb9czpWTtS3JANSmNRwVa4mmsMrWYpRG1kDH5"),
                        new U32(96780)),
                    new BaseTuple<SubstrateAccount, U32>(
                        new SubstrateAccount("11AnciffJctDC28odTEjDVYP2yWyp6275WLbrAUHi2vJm9f"),
                        new U32(16880)),
                }));

            await MockStorageCallWithInputAsync(new U32(1), coreResult, expectedResult, _substrateRepository.Storage.Staking.ErasRewardPointsAsync);
        }

        [Test]
        public async Task ErasRewardPointsNull_ShouldWorkAsync()
        {
            await MockStorageCallNullWithInputAsync<
                U32,
                Polkanalysis.Polkadot.NetApiExt.Generated.Model.pallet_staking.EraRewardPoints,
                EraRewardPoints>(new U32(1), _substrateRepository.Storage.Staking.ErasRewardPointsAsync);
        }

        [Test]
        [TestCaseSource(nameof(U128TestCase))]
        public async Task ErasTotalStake_ShouldWorkAsync(U128 expectedResult)
        {
            await MockStorageCallWithInputAsync(new U32(1), expectedResult, _substrateRepository.Storage.Staking.ErasTotalStakeAsync);
        }

        [Test]
        public async Task ErasTotalStakeNull_ShouldWorkAsync()
        {
            await MockStorageCallNullWithInputAsync(new U32(1), _substrateRepository.Storage.Staking.ErasTotalStakeAsync);
        }

        [Test]
        public async Task ForceEra_ShouldWorkAsync()
        {
            var coreResult = new Polkanalysis.Polkadot.NetApiExt.Generated.Model.pallet_staking.EnumForcing();
            coreResult.Create(Polkanalysis.Polkadot.NetApiExt.Generated.Model.pallet_staking.Forcing.NotForcing);

            var expectedResult = new EnumForcing();
            expectedResult.Create(Forcing.NotForcing);

            await MockStorageCallAsync(coreResult, expectedResult, _substrateRepository.Storage.Staking.ForceEraAsync);
        }

        [Test]
        public async Task ForceEraNull_ShouldWorkAsync()
        {
            await MockStorageCallNullAsync<
                Polkanalysis.Polkadot.NetApiExt.Generated.Model.pallet_staking.EnumForcing, EnumForcing>(_substrateRepository.Storage.Staking.ForceEraAsync);
        }

        [Test]
        public async Task SlashRewardFraction_ShouldWorkAsync()
        {
            var coreResult = new Polkanalysis.Polkadot.NetApiExt.Generated.Model.sp_arithmetic.per_things.Perbill();
            coreResult.Create("0x00E1F505");

            var expectedResult = new Perbill(new U32(100000000));

            await MockStorageCallAsync(coreResult, expectedResult, _substrateRepository.Storage.Staking.SlashRewardFractionAsync);
        }

        [Test]
        public async Task SlashRewardFractionNull_ShouldWorkAsync()
        {
            await MockStorageCallNullAsync<
                Polkanalysis.Polkadot.NetApiExt.Generated.Model.sp_arithmetic.per_things.Perbill, Perbill
                >(_substrateRepository.Storage.Staking.SlashRewardFractionAsync);
        }

        [Test]
        [TestCaseSource(nameof(U128TestCase))]
        public async Task CanceledSlashPayout_ShouldWorkAsync(U128 expectedResult)
        {
            await MockStorageCallAsync(expectedResult, _substrateRepository.Storage.Staking.CanceledSlashPayoutAsync);
        }

        [Test]
        public async Task CanceledSlashPayoutNull_ShouldWorkAsync()
        {
            await MockStorageCallNullAsync(_substrateRepository.Storage.Staking.CanceledSlashPayoutAsync);
        }

        [Test]
        [TestCaseSource(nameof(U128TestCase))]
        public async Task MinimumActiveStake_ShouldWorkAsync(U128 expectedResult)
        {
            await MockStorageCallAsync(expectedResult, _substrateRepository.Storage.Staking.MinimumActiveStakeAsync);
        }

        [Test]
        public async Task MinimumActiveStakeNull_ShouldWorkAsync()
        {
            await MockStorageCallNullAsync(_substrateRepository.Storage.Staking.MinimumActiveStakeAsync);
        }

        [Test]
        [Ignore("Todo find test case")]
        public async Task UnappliedSlashes_ShouldWorkAsync()
        {
            //await MockStorageCallNullWithInputAsync<
            //    U32,
            //    BaseVec<Polkanalysis.Polkadot.NetApiExt.Generated.Model.pallet_staking.UnappliedSlash>,
            //    BaseVec<UnappliedSlash>>(new U32(1), _substrateRepository.Storage.Staking.UnappliedSlashesAsync);
        }

        [Test]
        public async Task UnappliedSlashesNull_ShouldWorkAsync()
        {
            await MockStorageCallNullWithInputAsync<
                U32,
                BaseVec<Polkanalysis.Polkadot.NetApiExt.Generated.Model.pallet_staking.UnappliedSlash>,
                BaseVec<UnappliedSlash>>(new U32(1), _substrateRepository.Storage.Staking.UnappliedSlashesAsync);
        }

        [Test]
        public async Task BondedEras_ShouldWorkAsync()
        {
            var expectedResult = new BaseVec<BaseTuple<U32, U32>>();
            expectedResult.Create("0x10E303000076170000E40300007C170000E503000082170000E603000088170000");

            await MockStorageCallAsync(expectedResult, _substrateRepository.Storage.Staking.BondedErasAsync);
        }

        [Test]
        public async Task BondedErasNull_ShouldWorkAsync()
        {
            await MockStorageCallNullAsync(_substrateRepository.Storage.Staking.BondedErasAsync);
        }

        [Test]
        public async Task ValidatorSlashInEra_ShouldWorkAsync()
        {
            var perbill = new Polkanalysis.Polkadot.NetApiExt.Generated.Model.sp_arithmetic.per_things.Perbill();
            perbill.Create("0x00000000");
            var coreResult = new BaseTuple<Polkanalysis.Polkadot.NetApiExt.Generated.Model.sp_arithmetic.per_things.Perbill, U128>();
            coreResult.Create(perbill, new U128(0));

            var expectedResult = new BaseTuple<Perbill, U128>(new Perbill(new U32(0)), new U128(0));

            await MockStorageCallWithInputAsync(
                new BaseTuple<U32, SubstrateAccount>(new U32(1), new SubstrateAccount(MockAddress)), 
                coreResult, expectedResult, _substrateRepository.Storage.Staking.ValidatorSlashInEraAsync);
        }

        [Test]
        public async Task ValidatorSlashInEraNull_ShouldWorkAsync()
        {
            await MockStorageCallNullWithInputAsync<
                BaseTuple<U32, SubstrateAccount>,
                BaseTuple<Polkanalysis.Polkadot.NetApiExt.Generated.Model.sp_arithmetic.per_things.Perbill, U128>,
                BaseTuple<Perbill, U128>
                >(new BaseTuple<U32, SubstrateAccount>(new U32(0), new SubstrateAccount(MockAddress)), _substrateRepository.Storage.Staking.ValidatorSlashInEraAsync);
        }

        [Test]
        [TestCaseSource(nameof(U128TestCase))]
        public async Task NominatorSlashInEra_ShouldWorkAsync(U128 expectedResult)
        {
            await MockStorageCallWithInputAsync(
                new BaseTuple<U32, SubstrateAccount>(new U32(1), new SubstrateAccount(MockAddress)),
                expectedResult, _substrateRepository.Storage.Staking.NominatorSlashInEraAsync);
        }

        [Test]
        public async Task NominatorSlashInEraNull_ShouldWorkAsync()
        {
            await MockStorageCallNullWithInputAsync<
                BaseTuple<U32, SubstrateAccount>,
                BaseTuple<Polkanalysis.Polkadot.NetApiExt.Generated.Model.sp_arithmetic.per_things.Perbill, U128>,
                BaseTuple<Perbill, U128>
                >(new BaseTuple<U32, SubstrateAccount>(new U32(1), new SubstrateAccount(MockAddress)), _substrateRepository.Storage.Staking.ValidatorSlashInEraAsync);
        }

        [Test]
        public async Task SlashingSpans_ShouldWorkAsync()
        {
            var coreResult = new Polkanalysis.Polkadot.NetApiExt.Generated.Model.pallet_staking.slashing.SlashingSpans();
            coreResult.Create("0x0400000095020000000000000801000000A4000000");

            var expectedResult = new SlashingSpans(
                new U32(4),
                new U32(661),
                new U32(0),
                new BaseVec<U32>(new U32[] {
                    new U32(1),
                    new U32(164)
                })
            );

            await MockStorageCallWithInputAsync(
                new SubstrateAccount(MockAddress),
                coreResult, expectedResult, _substrateRepository.Storage.Staking.SlashingSpansAsync);
        }

        [Test]
        public async Task SlashingSpansNull_ShouldWorkAsync()
        {
            await MockStorageCallNullWithInputAsync<
                SubstrateAccount,
                Polkanalysis.Polkadot.NetApiExt.Generated.Model.pallet_staking.slashing.SlashingSpans,
                SlashingSpans>(new SubstrateAccount(MockAddress), _substrateRepository.Storage.Staking.SlashingSpansAsync);
        }

        [Test]
        public async Task SpanSlash_ShouldWorkAsync()
        {
            var coreResult = new Polkanalysis.Polkadot.NetApiExt.Generated.Model.pallet_staking.slashing.SpanRecord();
            coreResult.Create("0xCC7B8369010000000000000000000000CA5F1312000000000000000000000000");

            var expectedResult = new SpanRecord(
                new U128(6065191884),
                new U128(303259594));

            await MockStorageCallWithInputAsync(
                new BaseTuple<SubstrateAccount, U32>(new SubstrateAccount(MockAddress), new U32(1)),
                coreResult, expectedResult, _substrateRepository.Storage.Staking.SpanSlashAsync);
        }

        [Test]
        public async Task SpanSlashNull_ShouldWorkAsync()
        {
            await MockStorageCallNullWithInputAsync<
                BaseTuple<SubstrateAccount, U32>,
                Polkanalysis.Polkadot.NetApiExt.Generated.Model.pallet_staking.slashing.SpanRecord,
                SpanRecord>(new BaseTuple<SubstrateAccount, U32>(new SubstrateAccount(MockAddress), new U32(1)), _substrateRepository.Storage.Staking.SpanSlashAsync);
        }

        [Test]
        public async Task SpanSlashNull_WithNullInput_ShouldThrowExceptionAsync()
        {
            Assert.ThrowsAsync<ArgumentNullException>(async () => await MockStorageCallNullWithInputAsync<
                BaseTuple<SubstrateAccount, U32>,
                Polkanalysis.Polkadot.NetApiExt.Generated.Model.pallet_staking.slashing.SpanRecord,
                SpanRecord>(null!, _substrateRepository.Storage.Staking.SpanSlashAsync));
            
        }

        [Test]
        [Ignore("Find a solution")]
        public async Task SpanSlashNull_WithEmptyInput_ShouldThrowExceptionAsync()
        {
            await MockStorageCallNullWithInputAsync<
                BaseTuple<SubstrateAccount, U32>,
                Polkanalysis.Polkadot.NetApiExt.Generated.Model.pallet_staking.slashing.SpanRecord,
                SpanRecord>(new BaseTuple<SubstrateAccount, U32>(), _substrateRepository.Storage.Staking.SpanSlashAsync);
        }

        [Test]
        [TestCaseSource(nameof(U32TestCase))]
        public async Task CurrentPlannedSession_ShouldWorkAsync(U32 expectedResult)
        {
            await MockStorageCallAsync(expectedResult, _substrateRepository.Storage.Staking.CurrentPlannedSessionAsync);
        }

        [Test]
        public async Task CurrentPlannedSessionNull_ShouldWorkAsync()
        {
            await MockStorageCallNullAsync(_substrateRepository.Storage.Staking.CurrentPlannedSessionAsync);
        }

        [Test]
        public async Task OffendingValidators_ShouldWorkAsync()
        {
            var expectedResult = new BaseVec<BaseTuple<U32, Bool>>(new BaseTuple<U32, Bool>[] {
                new BaseTuple<U32, Bool>(new U32(1), new Bool(true)),
                new BaseTuple<U32, Bool>(new U32(20), new Bool(false))
            });

            await MockStorageCallAsync(expectedResult, _substrateRepository.Storage.Staking.OffendingValidatorsAsync);
        }

        [Test]
        public async Task OffendingValidatorsNull_ShouldWorkAsync()
        {
            await MockStorageCallNullAsync(_substrateRepository.Storage.Staking.OffendingValidatorsAsync);
        }

        //[Test]
        //public async Task StorageVersion_ShouldWorkAsync()
        //{
        //    var coreResult = new Polkanalysis.Polkadot.NetApiExt.Generated.Model.pallet_staking.EnumReleases();
        //    coreResult.Create("0x0A");

        //    var expectedResult = new EnumReleases();
        //    expectedResult.Create(Releases.V11_0_0);

        //    await MockStorageCallAsync(coreResult, expectedResult, _substrateRepository.Storage.Staking.StorageVersionAsync);
        //}

        //[Test]
        //public async Task StorageVersionNull_ShouldWorkAsync()
        //{
        //    await MockStorageCallNullAsync<
        //        Polkanalysis.Polkadot.NetApiExt.Generated.Model.pallet_staking.EnumReleases,
        //        EnumReleases>(_substrateRepository.Storage.Staking.StorageVersionAsync);
        //}

        [Test]
        public async Task ChillThreshold_ShouldWorkAsync()
        {
            var coreResult = new Polkanalysis.Polkadot.NetApiExt.Generated.Model.sp_arithmetic.per_things.Percent();
            coreResult.Create("0x5A");

            var expectedResult = new Percent(new U8(90));

            await MockStorageCallAsync(coreResult, expectedResult, _substrateRepository.Storage.Staking.ChillThresholdAsync);
        }

        [Test]
        public async Task ChillThresholdNull_ShouldWorkAsync()
        {
            await MockStorageCallNullAsync<
                Polkanalysis.Polkadot.NetApiExt.Generated.Model.sp_arithmetic.per_things.Percent,
                Percent>(_substrateRepository.Storage.Staking.ChillThresholdAsync);
        }
    }
}
